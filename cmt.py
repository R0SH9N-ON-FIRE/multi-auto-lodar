import base64
exec(base64.b64decode(b'aW1wb3J0IHJlcXVlc3RzCmltcG9ydCB0aW1lCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gdGVybWNvbG9yIGltcG9ydCBjcHJpbnQKCiMg4pSA4pSA4pSAIFJPU0hBTiBCYW5uZXIgKE9uZS1UaW1lKSDilIDilIDilIAKZGVmIHJvc2hhbl9iYW5uZXIoKToKICAgIGFydCA9IFsKICAgICAgICAiUlJSUlIgICAgT09PT08gICBTU1NTUyAgSCAgIEggICBBQUFBQSAgIE4gICBOIiwKICAgICAgICAiUiAgIFIgICBPICAgICBPICBTICAgICAgSCAgIEggICBBICAgQSAgIE5OICBOIiwKICAgICAgICAiUlJSUlIgICBPICAgICBPICBTU1NTUyAgSEhISEggICBBQUFBQSAgIE4gTiBOIiwKICAgICAgICAiUiAgUiAgICBPICAgICBPICAgICAgUyAgSCAgIEggICBBICAgQSAgIE4gIE5OIiwKICAgICAgICAiUiAgIFIgICAgT09PT08gICBTU1NTUyAgSCAgIEggICBBICAgQSAgIE4gICBOIgogICAgXQogICAgZm9yIGxpbmUgaW4gYXJ0OgogICAgICAgIGNwcmludChsaW5lLCAiZ3JlZW4iLCBhdHRycz1bImJvbGQiXSkKCmhlYWRlcnMgPSB7CiAgICAnQ29ubmVjdGlvbic6ICdrZWVwLWFsaXZlJywKICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wJywKICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicKfQoKZGVmIHNlbmRfY29tbWVudHModG9rZW5zLCBwb3N0X2lkLCBwcmVmaXgsIG1lc3NhZ2VzLCBkZWxheSk6CiAgICBjeWNsZSA9IDEKICAgIHdoaWxlIFRydWU6CiAgICAgICAgZm9yIHRva2VuIGluIHRva2VuczoKICAgICAgICAgICAgZm9yIGksIG1zZyBpbiBlbnVtZXJhdGUobWVzc2FnZXMpOgogICAgICAgICAgICAgICAgZnVsbF9tc2cgPSBmIntwcmVmaXh9IHttc2d9IgogICAgICAgICAgICAgICAgYXBpX3VybCA9IGYnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjE1LjAve3Bvc3RfaWR9L2NvbW1lbnRzJwogICAgICAgICAgICAgICAgcGFyYW1zID0geydhY2Nlc3NfdG9rZW4nOiB0b2tlbiwgJ21lc3NhZ2UnOiBmdWxsX21zZ30KICAgICAgICAgICAgICAgIHRpbWVzdGFtcCA9IGRhdGV0aW1lLm5vdygpLnN0cmZ0aW1lKCclSDolTTolUycpCiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5wb3N0KGFwaV91cmwsIGRhdGE9cGFyYW1zLCBoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgICAgICAgICAgICAgaWYgcmVzcG9uc2Uuc3RhdHVzX2NvZGUgPT0gMjAwOgogICAgICAgICAgICAgICAgICAgICAgICBjcHJpbnQoIlxu4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSBIiwgImdyZWVuIikKICAgICAgICAgICAgICAgICAgICAgICAgY3ByaW50KGYi4LyGIPCdkJHwnZCO8J2QkvCdkIfwnZCA8J2QjSDwnZCT8J2QjvCdkI7wnZCLIPCdkIjwnZCSIPCdkIDwnZCC8J2Qk/CdkIjwnZCV8J2QhCAg4LyEIiwgImdyZWVuIiwgYXR0cnM9WyJib2xkIl0pCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcmludChmIiDgvIYg8J2QgPCdkILwnZCT8J2QiPCdkJXwnZCEIPCdkJPwnZCI8J2QjPCdkIQg4LyEOiB7dGltZXN0YW1wfSIsICJncmVlbiIpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcmludChmIuC8hiDwnZCC8J2QjvCdkIzwnZCM8J2QhPCdkI3wnZCTIPCdkJLwnZCE8J2QjfCdkIMg8J2Qh/CdkIDwnZCT8J2Qk/CdkITwnZCRIPCdkIjwnZCN8J2QgfCdkI7wnZCXIOC8hDoge2Z1bGxfbXNnfSIsICJncmVlbiIpCiAgICAgICAgICAgICAgICAgICAgICAgIGNwcmludCgi4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSB4pSBXG4iLCAiZ3JlZW4iKQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIGNwcmludChmIlt7dGltZXN0YW1wfV0g4p2MIEZhaWxlZDoge2Z1bGxfbXNnfSIsICJncmVlbiIpCiAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcChkZWxheSkKICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgICAgICAgICBjcHJpbnQoZiJbe3RpbWVzdGFtcH1dIOKaoO+4jyBFcnJvcjoge2V9IiwgImdyZWVuIikKICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDMwKQogICAgICAgICAgICBjeWNsZSArPSAxCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgcHJpbnQoIlxu4pWU4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWXIikKICAgIHJvc2hhbl9iYW5uZXIoKSAgIyBCYW5uZXIgb25seSBvbmNlCiAgICBwcmludCgi4pWRICAgICAgICDwn5SlIFJPU0hBTiBSVUxFWCA6OiBDT01NRU5UIFBBTkVMIPCflKUgICAgICAg4pWRIikKICAgIHByaW50KCLilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZ1cbiIpCgogICAgdG9rZW5fZmlsZSA9IGlucHV0KCLgvIYg8J2QhPCdkI3wnZCT8J2QhPCdkJEg8J2QjPCdkJTwnZCL8J2Qk/CdkIggLSDwnZCT8J2QjvCdkIrwnZCE8J2QjSDwnZCF8J2QiPCdkIsgKC7wnZCT8J2Ql/CdkJMpIOC8hDogIikuc3RyaXAoKQogICAgdHJ5OgogICAgICAgIHdpdGggb3Blbih0b2tlbl9maWxlLCAiciIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIGY6CiAgICAgICAgICAgIHRva2VucyA9IFtsaW5lLnN0cmlwKCkgZm9yIGxpbmUgaW4gZiBpZiBsaW5lLnN0cmlwKCldCiAgICAgICAgY3ByaW50KGYi4pyFIExvYWRlZCB7bGVuKHRva2Vucyl9IHRva2VucyBmcm9tIHt0b2tlbl9maWxlfSIsICJncmVlbiIpCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgY3ByaW50KGYi8J+aqyBGYWlsZWQgdG8gbG9hZCB0b2tlbiBmaWxlOiB7ZX0iLCAiZ3JlZW4iKQogICAgICAgIGV4aXQoKQoKICAgIHBvc3RfaWQgPSBpbnB1dCgi4LyGIPCdkITwnZCN8J2Qk/CdkITwnZCRIPCdkI/wnZCO8J2QkvCdkJMg8J2QiPCdkIMg4LyEOiAiKS5zdHJpcCgpCiAgICBwcmVmaXggPSBpbnB1dCgi4LyGIPCdkITwnZCN8J2Qk/CdkITwnZCRIPCdkIfwnZCA8J2Qk/CdkITwnZCRIPCdkI3wnZCA8J2QjPCdkIQg4LyEOiAiKS5zdHJpcCgpCiAgICB0eHRfcGF0aCA9IGlucHV0KCLgvIYg8J2QhPCdkI3wnZCT8J2QhPCdkJEg8J2QgvCdkI7wnZCM8J2QjPCdkITwnZCN8J2QkyDwnZCF8J2QiPCdkIvwnZCEKC7wnZCT8J2Ql/CdkJMpIOC8hDogIikuc3RyaXAoKQogICAgZGVsYXkgPSBpbnQoaW5wdXQoIuC8hiDwnZCE8J2QjfCdkJPwnZCE8J2QkSDwnZCS8J2QhPCdkILwnZCO8J2QjfCdkIMg8J2Qk/CdkIjwnZCM8J2QhCDgvIQ6ICIpLnN0cmlwKCkpCgogICAgdHJ5OgogICAgICAgIHdpdGggb3Blbih0eHRfcGF0aCwgJ3InLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmOgogICAgICAgICAgICBtZXNzYWdlcyA9IFtsaW5lLnN0cmlwKCkgZm9yIGxpbmUgaW4gZiBpZiBsaW5lLnN0cmlwKCldCiAgICAgICAgc2VuZF9jb21tZW50cyh0b2tlbnMsIHBvc3RfaWQsIHByZWZpeCwgbWVzc2FnZXMsIGRlbGF5KQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIGNwcmludChmIvCfmqsgRmFpbGVkIHRvIGxvYWQgY29tbWVudHMgb3IgaW5wdXRzOiB7ZX0iLCAiZ3JlZW4iKQo==='))
